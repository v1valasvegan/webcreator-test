{"version":3,"sources":["Gallery.module.css","Content.module.css","Form.js","Content.js","Gallery.js","App.js","index.js","Form.module.css","App.module.css"],"names":["module","exports","fieldGroups","data","form","field_groups","renderField","field","name","type","label","required","group","divClassList","cn","additional","inputClassList","styles","className","key","htmlFor","id","placeholder","Form","this","props","fields","button","title","mainClassList","main","mainGroup","filter","find","checkbox","checkboxInnerHTML","__html","customControlClassName","formClassNames","heading","renderMainGroup","first","second","rest","row","length","defaultChecked","dangerouslySetInnerHTML","value","text","React","Component","components","metadata","containerClassNames","map","col","classList","innerHTML","uniqueId","Gallery","state","images","transition","width","calculateGalleryStyles","slidesPerView","isMultipleView","gap","offset","handleClick","setState","handleTransitionEnd","head","last","_","initial","newImages","next","previous","none","buildDotsArray","dot","console","log","1","2","dotsOnClick","0","dots","i","onClick","push","stripeStyle","transform","imgStyle","marginRight","previousClassName","nextClassName","wrapper","viewbox","stripe","style","left","onTransitionEnd","image","src","alt","height","controls","App","gridComponent","app","header","Content","submit_button","footer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7053ec9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mb-40\":\"Gallery_mb-40__3bT_V\",\"viewbox\":\"Gallery_viewbox__1scX7\",\"wrapper\":\"Gallery_wrapper__1wNZC\",\"stripe\":\"Gallery_stripe__1wdi6\",\"heading\":\"Gallery_heading__2R2U_\",\"controls\":\"Gallery_controls__1xg5R\",\"button\":\"Gallery_button__3de_G\",\"button-previous\":\"Gallery_button-previous__1PwMa\",\"button-next\":\"Gallery_button-next__3KLn2\",\"dots\":\"Gallery_dots__sC80l\",\"dot\":\"Gallery_dot__1c89y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mb-20\":\"Content_mb-20__1S_28\",\"heading\":\"Content_heading__3PUle\"};","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport cn from 'classnames';\nimport styles from './Form.module.css';\nimport data from './data/page.json';\n\nconst { form: { field_groups: fieldGroups } } = data;\n\nconst renderField = (field) => {\n  const {\n    name, type, label, required, group,\n  } = field;\n  const divClassList = cn({\n    'form-group': true,\n    'col-md-6': group === 'main',\n    [fieldGroups.additional]: group === 'additional',\n    'd-flex': group === 'additional',\n    'flex-column': group === 'additional',\n  });\n  const inputClassList = cn({\n    'form-control': true,\n    [styles['form-control']]: true,\n    'h-100': group === 'additional',\n  });\n\n  return (\n    <div className={divClassList} key={name}>\n        <label htmlFor={name}>{label}</label>\n        <input type={type} className={inputClassList} id={name} required={required} placeholder=\"\"/>\n      </div>\n  );\n};\n\nconst renderMainGroup = (fields) => {\n  const [first, second, ...rest] = fields;\n  const row = <div className=\"form-row\">\n      {renderField(first)}\n      {second && renderField(second)}\n    </div>;\n\n  if (rest.length === 0) {\n    return row;\n  }\n  return <>{row}{renderMainGroup(rest)}</>;\n};\n\nexport default class Form extends React.Component {\n  render() {\n    const { fields, button, title } = this.props;\n    const mainClassList = cn({ [fieldGroups.main]: true });\n    const mainGroup = fields.filter(({ group }) => group === 'main');\n    const additional = fields.find(({ group }) => group === 'additional');\n    const checkbox = fields.find(({ type }) => type === 'checkbox');\n    const checkboxInnerHTML = { __html: checkbox.label };\n    const customControlClassName = `custom-control custom-checkbox ${styles['mb-20']}`;\n    const formClassNames = `container-fluid ${styles['mb-64']}`;\n    return (\n        <form className={formClassNames}>\n          <h2 className={styles.heading}>{title}</h2>\n          <div className=\"form-row\">\n            <div className={mainClassList}>\n              {renderMainGroup(mainGroup)}\n            </div>\n              {renderField(additional)}\n          </div>\n          <div className={customControlClassName}>\n            <input type=\"checkbox\" className=\"custom-control-input\" id={checkbox.name} defaultChecked />\n            <label className=\"custom-control-label\" htmlFor={checkbox.name} dangerouslySetInnerHTML={checkboxInnerHTML}></label>\n          </div>\n          <input className={`btn ${styles.button}`} type=\"submit\" value={button.text}></input>\n        </form>\n    );\n  }\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport cn from 'classnames';\nimport { uniqueId } from 'lodash';\nimport styles from './Content.module.css';\n\nexport default ({ props }) => {\n  const { metadata: { components } } = props;\n  const containerClassNames = `container-fluid ${styles['mb-20']}`;\n  return (<div className={containerClassNames}>\n    <div className=\"row\">\n      {components.map(({ col, metadata }) => {\n        const classList = cn({ [`col-${col}`]: true });\n        const innerHTML = { __html: metadata.text };\n        return (\n          <div className={classList} key={uniqueId()}>\n            <h3 className={styles.heading}>{metadata.title}</h3>\n            <div className=\"wrapper\" dangerouslySetInnerHTML={innerHTML}></div>\n          </div>\n        );\n      })}\n    </div>\n  </div>);\n};\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport _ from 'lodash';\nimport styles from './Gallery.module.css';\n\nconst imgWidth = 364;\nconst imgHeight = 243;\nconst bodyWidth = 1140;\n\n\nexport default class Gallery extends React.Component {\n  state = {\n    images: this.props.images,\n    transition: 'none',\n    width: null,\n  }\n\n  calculateGalleryStyles = () => {\n    const { slidesPerView } = this.props;\n    const isMultipleView = slidesPerView > 1;\n    const gap = isMultipleView\n      ? (bodyWidth - (imgWidth * slidesPerView)) / (slidesPerView - 1)\n      : (bodyWidth - imgWidth) / 2;\n    const offset = -isMultipleView ? imgWidth + gap : imgWidth;\n    return { offset, gap };\n  }\n\n  handleClick = (transition) => () => this.setState({ transition });\n\n  handleTransitionEnd = () => {\n    const { images, transition } = this.state;\n    const [head, ...rest] = images;\n    const last = _.last(images);\n    const initial = _.initial(images);\n    const newImages = {\n      next: [last, ...initial],\n      previous: [...rest, head],\n      none: images,\n    };\n    this.setState({ images: newImages[transition], transition: 'none' });\n  }\n\n  buildDotsArray = () => {\n    const { slidesPerView } = this.props;\n    if (slidesPerView === 1) {\n      // eslint-disable-next-line react/jsx-key\n      return [<div className={styles.dot}></div>];\n    }\n    console.log(slidesPerView - 1);\n    const obj = { 1: 11, 2: 12 };\n    console.log(obj);\n    const dotsOnClick = {\n      0: this.handleClick('previous'),\n      [slidesPerView - 1]: this.handleClick('next'),\n    };\n    const dots = [];\n    for (let i = 0; i < slidesPerView; i += 1) {\n      const dot = <div className={styles.dot} onClick={dotsOnClick[i]}></div>;\n      dots.push(dot);\n    }\n    return dots;\n  };\n\n  render() {\n    const { title, slidesPerView } = this.props;\n    const { transition, images } = this.state;\n    const { offset, gap } = this.calculateGalleryStyles();\n\n    const stripeStyle = {\n      none: {\n        transition: 'none',\n        transform: 'translate(0)',\n      },\n      next: {\n        transition: 'all 0.5s ease-in',\n        transform: `translate(${imgWidth + gap}px)`,\n      },\n      previous: {\n        transition: 'all 0.5s ease-in',\n        transform: `translate(-${imgWidth + gap}px)`,\n      },\n    };\n\n    const imgStyle = { marginRight: `${gap}px` };\n    const previousClassName = `${styles.button} ${styles['button-previous']}`;\n    const nextClassName = `${styles.button} ${styles['button-next']}`;\n    const containerClassNames = `container-fluid ${styles['mb-40']}`;\n\n    return (\n      <div className={containerClassNames}>\n        <h2 className={styles.heading}>{title}</h2>\n        <div className={styles.wrapper}>\n          <div className={styles.viewbox}>\n            <div className={styles.stripe} style={{ ...stripeStyle[transition], left: `-${offset}px` }} onTransitionEnd={this.handleTransitionEnd}>\n              {images.map((image) => (\n                <img\n                  src={image}\n                  className=\"flex-shrink-0\"\n                  style={imgStyle} alt={image} key={image}\n                  width={imgWidth}\n                  height={imgHeight}\n                  />\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className={styles.controls}>\n          <button className={previousClassName} onClick={this.handleClick('previous')} />\n          <div className={styles.dots}>\n            {this.buildDotsArray(slidesPerView)}\n          </div>\n          <button className={nextClassName} onClick={this.handleClick('next')} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport styles from './App.module.css';\nimport data from './data/page.json';\nimport Form from './Form';\nimport Content from './Content';\nimport Gallery from './Gallery';\n\nfunction App() {\n  const { components, form } = data;\n  const gridComponent = components.find(({ type }) => type === 'GridComponent');\n  const gallery = data.components.find(({ type }) => type === 'GalleryComponent');\n  const { metadata: { images, title, slidesPerView } } = gallery;\n\n  return (\n    <div className={`${styles.app} container-fluid`}>\n        <header className={styles.header}>Тест</header>\n        <main className={styles.main}>\n          <Gallery images={images} title={title} slidesPerView={slidesPerView} />\n          <Content props={gridComponent} />\n          <Form fields={form.fields} button={form.submit_button} title={form.title} />\n        </main>\n        <footer className={styles.footer}></footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Form_heading__1G6oD\",\"button\":\"Form_button__2qxYQ\",\"mb-20\":\"Form_mb-20__3WfTT\",\"mb-64\":\"Form_mb-64__1ZQ_U\",\"form-control\":\"Form_form-control__LFvr9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"header\":\"App_header__3ZZ1n\",\"gallery\":\"App_gallery__11BWP\",\"footer\":\"App_footer__29Fsv\",\"main\":\"App_main__3ZkGI\"};"],"sourceRoot":""}